{"version":3,"sources":["services/persons.js","components/DisplayPeople.js","components/Filter.js","components/NewAddition.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","DisplayPerson","person","persons","setPersons","setMessage","setError","name","phoneNumber","onClick","console","log","window","confirm","personsService","filter","n","setTimeout","catch","error","DisplayPeople","nameFilter","peopleToShow","element","toLowerCase","includes","map","Filter","setNameFilter","value","onChange","event","target","NewAddition","newName","setNewName","newPhoneNumber","setNewPhoneNumber","onSubmit","preventDefault","personObject","found","find","undefined","concat","type","Notification","message","isError","className","App","useState","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15b729b7.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from \"react\";\r\nimport personsService from \"../services/persons.js\";\r\n\r\nconst DisplayPerson = ({\r\n  person,\r\n  persons,\r\n  setPersons,\r\n  setMessage,\r\n  setError,\r\n}) => {\r\n  const deletePerson = (id) => {\r\n    console.log(\"Delete button clicked\");\r\n\r\n    if (window.confirm(`Delete ${person.name}`)) {\r\n      personsService\r\n        .deletePerson(id)\r\n        .then((response) => {\r\n          console.log(\"promise fulfilled\");\r\n          setPersons(persons.filter((n) => n.id !== id));\r\n          setMessage(`${person.name} deleted from the Phonebook`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Unable to delete '${person.name}' from the Phonebook`);\r\n          setTimeout(() => {\r\n            setError(null);\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      {person.name} {person.phoneNumber}\r\n      <button onClick={() => deletePerson(person.id)}>Delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst DisplayPeople = ({\r\n  persons,\r\n  nameFilter,\r\n  setPersons,\r\n  setMessage,\r\n  setError,\r\n}) => {\r\n  const peopleToShow =\r\n    nameFilter === \"\"\r\n      ? persons\r\n      : persons.filter((element) =>\r\n          element.name.toLowerCase().includes(nameFilter.toLowerCase())\r\n        );\r\n\r\n  return (\r\n    <ul>\r\n      {peopleToShow.map((person) => (\r\n        <DisplayPerson\r\n          key={person.name}\r\n          person={person}\r\n          persons={persons}\r\n          setPersons={setPersons}\r\n          setMessage={setMessage}\r\n          setError={setError}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default DisplayPeople;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ nameFilter, setNameFilter }) => {\r\n  const handleNameFilter = (event) => {\r\n    setNameFilter(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      Filter on Name: <input value={nameFilter} onChange={handleNameFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport personsService from \"../services/persons.js\";\r\n\r\nconst NewAddition = ({\r\n  persons,\r\n  setPersons,\r\n  newName,\r\n  setNewName,\r\n  newPhoneNumber,\r\n  setNewPhoneNumber,\r\n  setMessage,\r\n  setError,\r\n}) => {\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handlePhoneChange = (event) => {\r\n    setNewPhoneNumber(event.target.value);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    console.log(\"Add button clicked\", event.target);\r\n    const personObject = {\r\n      name: newName,\r\n      phoneNumber: newPhoneNumber,\r\n    };\r\n\r\n    const found = persons.find((element) => element.name === newName);\r\n    if (found === undefined) {\r\n      personsService\r\n        .create(personObject)\r\n        .then((response) => {\r\n          console.log(\"promise fulfilled\");\r\n          setPersons(persons.concat(response));\r\n          setNewName(\"\");\r\n          setNewPhoneNumber(\"\");\r\n          setMessage(`${response.name} added to the Phonebook`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Unable to add '${newName}' to the Phonebook`);\r\n          setTimeout(() => {\r\n            setError(null);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      if (\r\n        window.confirm(\r\n          `${found.name} is already in the phonebook, replace the old number with a  new one?`\r\n        )\r\n      ) {\r\n        personsService\r\n          .update(found.id, personObject)\r\n          .then((response) => {\r\n            console.log(\"promise fulfilled\");\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== found.id ? person : response\r\n              )\r\n            );\r\n            setNewName(\"\");\r\n            setNewPhoneNumber(\"\");\r\n            setMessage(`${response.name} phone number changed`);\r\n            setTimeout(() => {\r\n              setMessage(null);\r\n            }, 5000);\r\n          })\r\n          .catch((error) => {\r\n            setError(`Unable to change '${newName}' phone number`);\r\n            setTimeout(() => {\r\n              setError(null);\r\n            }, 5000);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        Name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        Phone Number:{\" \"}\r\n        <input value={newPhoneNumber} onChange={handlePhoneChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">Add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewAddition;\r\n","import React, { useState, useEffect } from \"react\";\nimport DisplayPeople from \"./components/DisplayPeople.js\";\nimport Filter from \"./components/Filter.js\";\nimport NewAddition from \"./components/NewAddition.js\";\nimport personsService from \"./services/persons.js\";\n\nconst Notification = ({ message, isError }) => {\n  if (message === null) {\n    return null;\n  }\n\n  if (isError) {\n    return <div className=\"error\">{message}</div>;\n  } else {\n    return <div className=\"message\">{message}</div>;\n  }\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newPhoneNumber, setNewPhoneNumber] = useState(\"\");\n  const [nameFilter, setNameFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    personsService.getAll().then((response) => {\n      console.log(\"promise fulfilled\");\n      setPersons(response);\n    });\n  }, []);\n\n  return (\n    <div>\n      <Notification message={message} isError={false} />\n      <Notification message={error} isError={true} />\n      <h2>Phonebook</h2>\n      <Filter nameFilter={nameFilter} setNameFilter={setNameFilter} />\n\n      <h3>New Addition</h3>\n      <NewAddition\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newPhoneNumber={newPhoneNumber}\n        setNewPhoneNumber={setNewPhoneNumber}\n        setMessage={setMessage}\n        setError={setError}\n      />\n\n      <h3>Numbers</h3>\n      <DisplayPeople\n        persons={persons}\n        nameFilter={nameFilter}\n        setPersons={setPersons}\n        setMessage={setMessage}\n        setError={setError}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}